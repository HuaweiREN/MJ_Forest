{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Script\\PopUpScript/assets\\Script\\PopUpScript\\cPopUp.js"],"names":["cc","Class","extends","Component","properties","_goBackFlag","_blockInputEvents","onShow","PrtName","FabInfo","Hint","callFunc","node","active","setHint","getChildByName","addComponent","BlockInputEvents","listenToSwitch","getComponent","Sprite","spriteFrame","on","Node","EventType","TOUCH_END","event","bind","onHide","destroy","removeFromParent","onBtnClick","onFadeOut","Label","string","start","update","dt","off"],"mappings":"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","file":"cPopUp.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\PopUpScript","sourcesContent":["\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        _goBackFlag: null,\r\n        _blockInputEvents: null,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    //// 20200307\r\n    onShow: function(PrtName, FabInfo, Hint, callFunc){\r\n        // 连续使用blockinputevents会出现错误，因此每次都重新添加\r\n        this.node.active = true;\r\n        this._goBackFlag = false;\r\n        this.setHint(Hint);\r\n        this.node.getChildByName(\"maskLayer\").addComponent(cc.BlockInputEvents);\r\n        this.listenToSwitch();\r\n        if (callFunc){\r\n            this.node.getChildByName(\"root\").getChildByName(\"tip\").getChildByName(\"tipSprite\").getComponent(cc.Sprite).spriteFrame = callFunc;\r\n            this.node.getChildByName(\"root\").getChildByName(\"tip\").getChildByName(\"tipSprite\").active = true;\r\n        }\r\n    },\r\n    \r\n    listenToSwitch(){\r\n        this.node.getChildByName(\"maskLayer\").on(cc.Node.EventType.TOUCH_END, function (event){\r\n            this._goBackFlag = true;\r\n        }.bind(this), this);\r\n    },\r\n\r\n    onHide: function(){\r\n        this.node.getChildByName(\"maskLayer\").getComponent(cc.BlockInputEvents).destroy();\r\n        this.node.active = false;\r\n        this.node.removeFromParent(true); //while closing the alert window, remove the content node\r\n        this.node.destroy();\r\n    },\r\n\r\n    onBtnClick: function(){\r\n        this.node.getChildByName(\"root\").getChildByName(\"tip\").getChildByName(\"tipSprite\").getComponent(cc.Sprite).active = false;\r\n        var node = this.node.getComponent(\"cFadeInFadeOut\");\r\n        node.onFadeOut();\r\n        //this.onHide();\r\n    },\r\n\r\n    setHint(Hint){\r\n        if (Hint == null){\r\n            Hint = [\"出错啦！收集BUG中\", \"再给我一次机会\"];\r\n        }\r\n        \r\n        this.node.getChildByName(\"root\").getChildByName(\"tip\").getComponent(cc.Label).string = Hint[0];\r\n\r\n        this.node.getChildByName(\"root\").getChildByName(\"confirm\").getChildByName(\"Background\").getChildByName(\"Label\").getComponent(cc.Label).string = Hint[1];\r\n    },\r\n    \r\n    start () {\r\n\r\n    },\r\n\r\n    //// 20200304\r\n    update (dt) {\r\n        if (this._goBackFlag == true){\r\n            this.onBtnClick();\r\n            this.node.getChildByName(\"maskLayer\").off(cc.Node.EventType.TOUCH_END);\r\n            this._goBackFlag = false;\r\n        };\r\n    },\r\n});\r\n"]}