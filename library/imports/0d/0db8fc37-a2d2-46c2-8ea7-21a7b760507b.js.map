{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Script\\ContentScript/assets\\Script\\ContentScript\\cActivityMain.js"],"names":["cc","Class","extends","Component","properties","upperBox","Node","lowerBox","PrtName","_petIcon","Sprite","_petLiveIndex","Label","_petLiveBar","_petActiType","_petActiStatus","_petActiName","_petActiExpValue","_petActiExpType","_petActiSuccessRate","_liveBell","_actiRecall","_actiType1","_actiType2","_actiType3","_actiType4","_actiTypeNext","_actiCallback","actiDuraOne","actiDuraTwo","actiDuraThree","actiDuraFour","actiBackOne","actiBackTwo","actiBackThree","actiBackFour","actiLiveOne","actiLiveTwo","actiLiveThree","actiLiveFour","start","setNodeDefault","_upperBox","node","getChildByName","_lowerBox","getComponent","_petTalent","GlobalFuncVar","SetPetSelfieIconUpdate","userPetInfo","petType","setActiBtnText","bind","setActi","setLive","onShow","FabInfo","checkActi","active","setTimeout","ShowDemoText","onHide","console","log","string","sysActivityFeedback","activityType1","activityType2","activityType3","activityType4","node1","node2","node3","node4","actiTypeCurrent","Button","interactable","actiHarvest","userInfo","goldHoldVolume","sysPetTalent","sysPetTalent_DuoduoTalent","petLevel","CallPopUp","foodHoldVolume","sysPetTalent_MaiqiTalent","Math","random","sysPetTalent_HuanhuanTalent","newsExtra","petLive","sysPetTalent_DayuTalent","emitDataPack","emitID","emitData","actiLeftDays","actiAssigned","actiTypeNext","eventAfterSync","rcvDataPack","rcvData","length","gameFlag","petInfoUpdate","petAnimiUpdate","userResUpdate","onClickActiBtn","target","type","TutorialStep","CallDoubleConfirm","actiTypeTemp","Widget","isAbsoluteRight","right","color","Color","sysPetTalentText","Number","SetActiProgressLevel","SetActiTypeIconUpdate","update","dt"],"mappings":";;;;;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,kBAAUL,GAAGM,IADL;AAERC,kBAAUP,GAAGM,IAFL;AAGRE,iBAAS,IAHD;;AAKRC,kBAAUT,GAAGU,MALL;AAMRC,uBAAeX,GAAGY,KANV;AAORC,qBAAab,GAAGM,IAPR;AAQRQ,sBAAcd,GAAGU,MART;AASRK,wBAAgBf,GAAGU,MATX;AAURM,sBAAchB,GAAGY,KAVT;AAWRK,0BAAkBjB,GAAGY,KAXb;AAYRM,yBAAiBlB,GAAGU,MAZZ;AAaRS,6BAAqBnB,GAAGY,KAbhB;;AAeRQ,mBAAWpB,GAAGM,IAfN;AAgBRe,qBAAarB,GAAGM,IAhBR;AAiBRgB,oBAAYtB,GAAGM,IAjBP;AAkBRiB,oBAAYvB,GAAGM,IAlBP;AAmBRkB,oBAAYxB,GAAGM,IAnBP;AAoBRmB,oBAAYzB,GAAGM,IApBP;;AAsBRoB,uBAAe1B,GAAGU,MAtBV;AAuBRiB,uBAAe,IAvBP;;AAyBRC,qBAAa5B,GAAGY,KAzBR;AA0BRiB,qBAAa7B,GAAGY,KA1BR;AA2BRkB,uBAAe9B,GAAGY,KA3BV;AA4BRmB,sBAAc/B,GAAGY,KA5BT;;AA8BRoB,qBAAahC,GAAGY,KA9BR;AA+BRqB,qBAAajC,GAAGY,KA/BR;AAgCRsB,uBAAelC,GAAGY,KAhCV;AAiCRuB,sBAAcnC,GAAGY,KAjCT;;AAmCRwB,qBAAapC,GAAGY,KAnCR;AAoCRyB,qBAAarC,GAAGY,KApCR;AAqCR0B,uBAAetC,GAAGY,KArCV;AAsCR2B,sBAAcvC,GAAGY;;AAtCT,KAHP;;AA6CL;;AAEA;;AAEA4B,SAjDK,mBAiDI,CACR,CAlDI;AAoDLC,kBApDK,4BAoDW;AACZ,aAAKC,SAAL,GAAiB,KAAKC,IAAL,CAAUC,cAAV,CAAyB,UAAzB,CAAjB;AACA,aAAKC,SAAL,GAAiB,KAAKF,IAAL,CAAUC,cAAV,CAAyB,UAAzB,CAAjB;AACA,aAAKnC,QAAL,GAAgB,KAAKiC,SAAL,CAAeE,cAAf,CAA8B,SAA9B,EAAyCE,YAAzC,CAAsD9C,GAAGU,MAAzD,CAAhB;AACA,aAAKC,aAAL,GAAqB,KAAK+B,SAAL,CAAeE,cAAf,CAA8B,SAA9B,EAAyCA,cAAzC,CAAwD,WAAxD,EAAqEE,YAArE,CAAkF9C,GAAGY,KAArF,CAArB;AACA,aAAKC,WAAL,GAAmB,KAAK6B,SAAL,CAAeE,cAAf,CAA8B,SAA9B,EAAyCA,cAAzC,CAAwD,KAAxD,CAAnB;AACA,aAAK9B,YAAL,GAAoB,KAAK4B,SAAL,CAAeE,cAAf,CAA8B,eAA9B,EAA+CA,cAA/C,CAA8D,cAA9D,EAA8EE,YAA9E,CAA2F9C,GAAGU,MAA9F,CAApB;AACA,aAAKK,cAAL,GAAsB,KAAK2B,SAAL,CAAeE,cAAf,CAA8B,eAA9B,EAA+CA,cAA/C,CAA8D,cAA9D,EAA8EA,cAA9E,CAA6F,gBAA7F,EAA+GA,cAA/G,CAA8H,eAA9H,EAA+IE,YAA/I,CAA4J9C,GAAGU,MAA/J,CAAtB;AACA,aAAKM,YAAL,GAAoB,KAAK0B,SAAL,CAAeE,cAAf,CAA8B,eAA9B,EAA+CA,cAA/C,CAA8D,cAA9D,EAA8EA,cAA9E,CAA6F,gBAA7F,EAA+GE,YAA/G,CAA4H9C,GAAGY,KAA/H,CAApB;AACA,aAAKmC,UAAL,GAAkB,KAAKL,SAAL,CAAeE,cAAf,CAA8B,SAA9B,EAAyCA,cAAzC,CAAwD,WAAxD,CAAlB;;AAEA,aAAKtB,UAAL,GAAkB,KAAKuB,SAAL,CAAeD,cAAf,CAA8B,WAA9B,EAA2CA,cAA3C,CAA0D,eAA1D,EAA2EA,cAA3E,CAA0F,SAA1F,CAAlB;AACA,aAAKrB,UAAL,GAAkB,KAAKsB,SAAL,CAAeD,cAAf,CAA8B,WAA9B,EAA2CA,cAA3C,CAA0D,eAA1D,EAA2EA,cAA3E,CAA0F,SAA1F,CAAlB;AACA,aAAKpB,UAAL,GAAkB,KAAKqB,SAAL,CAAeD,cAAf,CAA8B,WAA9B,EAA2CA,cAA3C,CAA0D,eAA1D,EAA2EA,cAA3E,CAA0F,WAA1F,CAAlB;AACA,aAAKnB,UAAL,GAAkB,KAAKoB,SAAL,CAAeD,cAAf,CAA8B,WAA9B,EAA2CA,cAA3C,CAA0D,eAA1D,EAA2EA,cAA3E,CAA0F,UAA1F,CAAlB;;AAEAI,sBAAcC,sBAAd,CAAqCD,cAAcE,WAAd,CAA0BC,OAA/D,EAAuE,KAAK1C,QAA5E,EAAqF,IAArF;;AAEA,aAAKkB,aAAL,GAAqB;AACjByB,4BAAgB,KAAKA,cAAL,CAAoBC,IAApB,CAAyB,IAAzB,CADC;AAEjBC,qBAAS,KAAKA,OAAL,CAAaD,IAAb,CAAkB,IAAlB,CAFQ;AAGjBE,qBAAS,KAAKA,OAAL,CAAaF,IAAb,CAAkB,IAAlB;AAHQ,SAArB;AAKH,KA3EI;;;AA6EL;AACAG,UA9EK,kBA8EEhD,OA9EF,EA8EWiD,OA9EX,EA8EmB;AACpB,aAAKjD,OAAL,GAAeA,OAAf;AACA,aAAKiC,cAAL;AACA,aAAKiB,SAAL;AACA,aAAKN,cAAL;AACA,aAAKG,OAAL;AACA,aAAKD,OAAL;AACA,aAAKX,IAAL,CAAUgB,MAAV,GAAmB,IAAnB;;AAEAC,mBAAW,YAAY;AACnBZ,0BAAca,YAAd,CAA2B,IAA3B,EAAiC,0BAAjC,EAA6D,EAA7D;AACJ;AACC,SAHU,CAGTR,IAHS,CAGJ,IAHI,CAAX,EAGc,IAHd;AAIH,KA3FI;AA6FLS,UA7FK,oBA6FG;AACJ,aAAKnB,IAAL,CAAUgB,MAAV,GAAmB,KAAnB;AACH,KA/FI;AAiGLP,kBAjGK,4BAiGW;;AAEZW,gBAAQC,GAAR,CAAY,UAAZ,EAAwB,KAAKpC,WAA7B;AACA,aAAKA,WAAL,CAAiBqC,MAAjB,GAA0BjB,cAAckB,mBAAd,CAAkCC,aAAlC,CAAgD,CAAhD,CAA1B;AACA,aAAKtC,WAAL,CAAiBoC,MAAjB,GAA0BjB,cAAckB,mBAAd,CAAkCE,aAAlC,CAAgD,CAAhD,CAA1B;AACA,aAAKtC,aAAL,CAAmBmC,MAAnB,GAA4BjB,cAAckB,mBAAd,CAAkCG,aAAlC,CAAgD,CAAhD,CAA5B;AACA,aAAKtC,YAAL,CAAkBkC,MAAlB,GAA2BjB,cAAckB,mBAAd,CAAkCI,aAAlC,CAAgD,CAAhD,CAA3B;;AAEA,aAAKtC,WAAL,CAAiBiC,MAAjB,GAA0BjB,cAAckB,mBAAd,CAAkCC,aAAlC,CAAgD,CAAhD,CAA1B;AACA,aAAKlC,WAAL,CAAiBgC,MAAjB,GAA0BjB,cAAckB,mBAAd,CAAkCE,aAAlC,CAAgD,CAAhD,CAA1B;AACA,aAAKlC,aAAL,CAAmB+B,MAAnB,GAA4BjB,cAAckB,mBAAd,CAAkCG,aAAlC,CAAgD,CAAhD,CAA5B;AACA,aAAKlC,YAAL,CAAkB8B,MAAlB,GAA2BjB,cAAckB,mBAAd,CAAkCI,aAAlC,CAAgD,CAAhD,CAA3B;;AAEA,aAAKlC,WAAL,CAAiB6B,MAAjB,GAA0B,MAAMjB,cAAckB,mBAAd,CAAkCC,aAAlC,CAAgD,CAAhD,CAAhC;AACA,aAAK9B,WAAL,CAAiB4B,MAAjB,GAA0B,MAAMjB,cAAckB,mBAAd,CAAkCE,aAAlC,CAAgD,CAAhD,CAAhC;AACA,aAAK9B,aAAL,CAAmB2B,MAAnB,GAA4B,MAAMjB,cAAckB,mBAAd,CAAkCG,aAAlC,CAAgD,CAAhD,CAAlC;AACA,aAAK9B,YAAL,CAAkB0B,MAAlB,GAA2B,MAAMjB,cAAckB,mBAAd,CAAkCI,aAAlC,CAAgD,CAAhD,CAAjC;;AAEA,YAAIC,QAAQ,KAAKjD,UAAL,CAAgBsB,cAAhB,CAA+B,YAA/B,EAA6CA,cAA7C,CAA4D,OAA5D,EAAqEE,YAArE,CAAkF9C,GAAGY,KAArF,CAAZ;AACA,YAAI4D,QAAQ,KAAKjD,UAAL,CAAgBqB,cAAhB,CAA+B,YAA/B,EAA6CA,cAA7C,CAA4D,OAA5D,EAAqEE,YAArE,CAAkF9C,GAAGY,KAArF,CAAZ;AACA,YAAI6D,QAAQ,KAAKjD,UAAL,CAAgBoB,cAAhB,CAA+B,YAA/B,EAA6CA,cAA7C,CAA4D,OAA5D,EAAqEE,YAArE,CAAkF9C,GAAGY,KAArF,CAAZ;AACA,YAAI8D,QAAQ,KAAKjD,UAAL,CAAgBmB,cAAhB,CAA+B,YAA/B,EAA6CA,cAA7C,CAA4D,OAA5D,EAAqEE,YAArE,CAAkF9C,GAAGY,KAArF,CAAZ;;AAEA,YAAIoC,cAAcE,WAAd,CAA0ByB,eAA1B,IAA6C,CAAjD,EAAmD;AAC/C,iBAAKrD,UAAL,CAAgBwB,YAAhB,CAA6B9C,GAAG4E,MAAhC,EAAwCC,YAAxC,GAAuD,IAAvD;AACA,iBAAKtD,UAAL,CAAgBuB,YAAhB,CAA6B9C,GAAG4E,MAAhC,EAAwCC,YAAxC,GAAuD,IAAvD;AACA,iBAAKrD,UAAL,CAAgBsB,YAAhB,CAA6B9C,GAAG4E,MAAhC,EAAwCC,YAAxC,GAAuD,IAAvD;AACA,iBAAKpD,UAAL,CAAgBqB,YAAhB,CAA6B9C,GAAG4E,MAAhC,EAAwCC,YAAxC,GAAuD,IAAvD;AACAN,kBAAMN,MAAN,GAAe,IAAf;AACAO,kBAAMP,MAAN,GAAe,IAAf;AACAQ,kBAAMR,MAAN,GAAe,IAAf;AACAS,kBAAMT,MAAN,GAAe,IAAf;AACH,SATD,MASO,IAAIjB,cAAcE,WAAd,CAA0ByB,eAA1B,IAA6C,CAAjD,EAAmD;AACtD,iBAAKrD,UAAL,CAAgBwB,YAAhB,CAA6B9C,GAAG4E,MAAhC,EAAwCC,YAAxC,GAAuD,IAAvD;AACA,iBAAKtD,UAAL,CAAgBuB,YAAhB,CAA6B9C,GAAG4E,MAAhC,EAAwCC,YAAxC,GAAuD,KAAvD;AACA,iBAAKrD,UAAL,CAAgBsB,YAAhB,CAA6B9C,GAAG4E,MAAhC,EAAwCC,YAAxC,GAAuD,KAAvD;AACA,iBAAKpD,UAAL,CAAgBqB,YAAhB,CAA6B9C,GAAG4E,MAAhC,EAAwCC,YAAxC,GAAuD,KAAvD;AACAN,kBAAMN,MAAN,GAAe,IAAf;AACAO,kBAAMP,MAAN,GAAe,IAAf;AACAQ,kBAAMR,MAAN,GAAe,IAAf;AACAS,kBAAMT,MAAN,GAAe,IAAf;AACH,SATM,MASA,IAAIjB,cAAcE,WAAd,CAA0ByB,eAA1B,IAA6C,CAAjD,EAAmD;AACtD,iBAAKrD,UAAL,CAAgBwB,YAAhB,CAA6B9C,GAAG4E,MAAhC,EAAwCC,YAAxC,GAAuD,KAAvD;AACA,iBAAKtD,UAAL,CAAgBuB,YAAhB,CAA6B9C,GAAG4E,MAAhC,EAAwCC,YAAxC,GAAuD,IAAvD;AACA,iBAAKrD,UAAL,CAAgBsB,YAAhB,CAA6B9C,GAAG4E,MAAhC,EAAwCC,YAAxC,GAAuD,KAAvD;AACA,iBAAKpD,UAAL,CAAgBqB,YAAhB,CAA6B9C,GAAG4E,MAAhC,EAAwCC,YAAxC,GAAuD,KAAvD;AACAN,kBAAMN,MAAN,GAAe,IAAf;AACAO,kBAAMP,MAAN,GAAe,IAAf;AACAQ,kBAAMR,MAAN,GAAe,IAAf;AACAS,kBAAMT,MAAN,GAAe,IAAf;AACH,SATM,MASA,IAAIjB,cAAcE,WAAd,CAA0ByB,eAA1B,IAA6C,CAAjD,EAAmD;AACtD,iBAAKrD,UAAL,CAAgBwB,YAAhB,CAA6B9C,GAAG4E,MAAhC,EAAwCC,YAAxC,GAAuD,KAAvD;AACA,iBAAKtD,UAAL,CAAgBuB,YAAhB,CAA6B9C,GAAG4E,MAAhC,EAAwCC,YAAxC,GAAuD,KAAvD;AACA,iBAAKrD,UAAL,CAAgBsB,YAAhB,CAA6B9C,GAAG4E,MAAhC,EAAwCC,YAAxC,GAAuD,IAAvD;AACA,iBAAKpD,UAAL,CAAgBqB,YAAhB,CAA6B9C,GAAG4E,MAAhC,EAAwCC,YAAxC,GAAuD,KAAvD;AACAN,kBAAMN,MAAN,GAAe,IAAf;AACAO,kBAAMP,MAAN,GAAe,IAAf;AACAQ,kBAAMR,MAAN,GAAe,IAAf;AACAS,kBAAMT,MAAN,GAAe,IAAf;AACH,SATM,MASA,IAAIjB,cAAcE,WAAd,CAA0ByB,eAA1B,IAA6C,CAAjD,EAAmD;AACtD,iBAAKrD,UAAL,CAAgBwB,YAAhB,CAA6B9C,GAAG4E,MAAhC,EAAwCC,YAAxC,GAAuD,KAAvD;AACA,iBAAKtD,UAAL,CAAgBuB,YAAhB,CAA6B9C,GAAG4E,MAAhC,EAAwCC,YAAxC,GAAuD,KAAvD;AACA,iBAAKrD,UAAL,CAAgBsB,YAAhB,CAA6B9C,GAAG4E,MAAhC,EAAwCC,YAAxC,GAAuD,KAAvD;AACA,iBAAKpD,UAAL,CAAgBqB,YAAhB,CAA6B9C,GAAG4E,MAAhC,EAAwCC,YAAxC,GAAuD,IAAvD;AACAN,kBAAMN,MAAN,GAAe,IAAf;AACAO,kBAAMP,MAAN,GAAe,IAAf;AACAQ,kBAAMR,MAAN,GAAe,IAAf;AACAS,kBAAMT,MAAN,GAAe,IAAf;AACH;AACJ,KAtKI;AAwKLP,aAxKK,uBAwKM;AACP;AACA,YAAIV,cAAcE,WAAd,CAA0B4B,WAA1B,GAAwC,CAA5C,EAA8C;AAC1C,gBAAI9B,cAAcE,WAAd,CAA0B4B,WAA1B,IAAyC,CAA7C,EAA+C;AAC3C,oBAAI9B,cAAcE,WAAd,CAA0BC,OAA1B,IAAqC,QAAzC,EAAkD;AAC9CH,kCAAc+B,QAAd,CAAuBC,cAAvB,IAAyChC,cAAckB,mBAAd,CAAkCC,aAAlC,CAAgD,CAAhD,IAAqDnB,cAAciC,YAAd,CAA2BC,yBAA3B,CAAqDlC,cAAcE,WAAd,CAA0BiC,QAA/E,CAA9F;AACAnC,kCAAcoC,SAAd,CAAwB,KAAKzC,IAA7B,EAAmC,YAAnC,EAAiD,CAAC,wCAAsCK,cAAckB,mBAAd,CAAkCC,aAAlC,CAAgD,CAAhD,CAAtC,GAAyF,SAAzF,GAAoGnB,cAAciC,YAAd,CAA2BC,yBAA3B,CAAqDlC,cAAcE,WAAd,CAA0BiC,QAA/E,CAApG,GAA8L,GAA/L,EAAmM,IAAnM,CAAjD;AACH,iBAHD,MAGO;AACHnC,kCAAc+B,QAAd,CAAuBC,cAAvB,IAAyChC,cAAckB,mBAAd,CAAkCC,aAAlC,CAAgD,CAAhD,CAAzC;AACAnB,kCAAcoC,SAAd,CAAwB,KAAKzC,IAA7B,EAAmC,YAAnC,EAAiD,CAAC,2BAAyBK,cAAckB,mBAAd,CAAkCC,aAAlC,CAAgD,CAAhD,CAAzB,GAA4E,GAA7E,EAAiF,IAAjF,CAAjD;AACH;AACD;AAEH,aAVD,MAUO,IAAInB,cAAcE,WAAd,CAA0B4B,WAA1B,IAAyC,CAA7C,EAA+C;AAClD,oBAAI9B,cAAcE,WAAd,CAA0BC,OAA1B,IAAqC,OAAzC,EAAiD;AAC7CH,kCAAc+B,QAAd,CAAuBM,cAAvB,IAAyCrC,cAAckB,mBAAd,CAAkCE,aAAlC,CAAgD,CAAhD,IAAqDpB,cAAciC,YAAd,CAA2BK,wBAA3B,CAAoDtC,cAAcE,WAAd,CAA0BiC,QAA9E,CAA9F;AACAnC,kCAAcoC,SAAd,CAAwB,KAAKzC,IAA7B,EAAmC,YAAnC,EAAiD,CAAC,wCAAsCK,cAAckB,mBAAd,CAAkCC,aAAlC,CAAgD,CAAhD,CAAtC,GAAyF,SAAzF,GAAoGnB,cAAciC,YAAd,CAA2BK,wBAA3B,CAAoDtC,cAAcE,WAAd,CAA0BiC,QAA9E,CAApG,GAA6L,GAA9L,EAAkM,IAAlM,CAAjD;AACH,iBAHD,MAGO;AACHnC,kCAAc+B,QAAd,CAAuBM,cAAvB,IAAyCrC,cAAckB,mBAAd,CAAkCE,aAAlC,CAAgD,CAAhD,CAAzC;AACApB,kCAAcoC,SAAd,CAAwB,KAAKzC,IAA7B,EAAmC,YAAnC,EAAiD,CAAC,2BAAyBK,cAAckB,mBAAd,CAAkCE,aAAlC,CAAgD,CAAhD,CAAzB,GAA4E,GAA7E,EAAiF,IAAjF,CAAjD;AACH;AACD;AAEH,aAVM,MAUA,IAAIpB,cAAcE,WAAd,CAA0B4B,WAA1B,IAAyC,CAA7C,EAA+C;AAClD,oBAAI9B,cAAcE,WAAd,CAA0BC,OAA1B,IAAqC,UAArC,IAAmDoC,KAAKC,MAAL,MAAiBxC,cAAciC,YAAd,CAA2BQ,2BAA3B,CAAuDzC,cAAcE,WAAd,CAA0BiC,QAAjF,CAAxE,EAAmK;AAC/JnC,kCAAc+B,QAAd,CAAuBW,SAAvB,GAAmC1C,cAAckB,mBAAd,CAAkCG,aAAlC,CAAgD,CAAhD,IAAqDrB,cAAckB,mBAAd,CAAkCG,aAAlC,CAAgD,CAAhD,CAAxF;AACArB,kCAAcoC,SAAd,CAAwB,KAAKzC,IAA7B,EAAmC,YAAnC,EAAiD,CAAC,uCAAqCK,cAAckB,mBAAd,CAAkCG,aAAlC,CAAgD,CAAhD,CAArC,GAAwF,KAAzF,EAA+F,IAA/F,CAAjD;AACH,iBAHD,MAGO,IAAIrB,cAAcE,WAAd,CAA0BC,OAA1B,IAAqC,UAArC,IAAmDoC,KAAKC,MAAL,KAAgBxC,cAAciC,YAAd,CAA2BQ,2BAA3B,CAAuDzC,cAAcE,WAAd,CAA0BiC,QAAjF,CAAvE,EAAkK;AACrKnC,kCAAc+B,QAAd,CAAuBW,SAAvB,GAAmC1C,cAAckB,mBAAd,CAAkCG,aAAlC,CAAgD,CAAhD,CAAnC;AACArB,kCAAcoC,SAAd,CAAwB,KAAKzC,IAA7B,EAAmC,YAAnC,EAAiD,CAAC,6BAA2BK,cAAckB,mBAAd,CAAkCG,aAAlC,CAAgD,CAAhD,CAA3B,GAA8E,KAA/E,EAAqF,IAArF,CAAjD;AACH,iBAHM,MAIF;AACDrB,kCAAc+B,QAAd,CAAuBW,SAAvB,GAAmC1C,cAAckB,mBAAd,CAAkCG,aAAlC,CAAgD,CAAhD,CAAnC;AACArB,kCAAcoC,SAAd,CAAwB,KAAKzC,IAA7B,EAAmC,YAAnC,EAAiD,CAAC,kCAAgCK,cAAckB,mBAAd,CAAkCG,aAAlC,CAAgD,CAAhD,CAAhC,GAAmF,KAApF,EAA0F,IAA1F,CAAjD;AACH;AACD;AACH,aAbM,MAaA,IAAIrB,cAAcE,WAAd,CAA0B4B,WAA1B,IAAyC,CAA7C,EAA+C;AAClD9B,8BAAcE,WAAd,CAA0ByC,OAA1B,IAAqC3C,cAAckB,mBAAd,CAAkCI,aAAlC,CAAgD,CAAhD,CAArC;AACA,oBAAItB,cAAcE,WAAd,CAA0ByC,OAA1B,GAAoC,GAAxC,EAA4C;AACxC3C,kCAAcE,WAAd,CAA0ByC,OAA1B,GAAoC,GAApC;AACH;AACD3C,8BAAcoC,SAAd,CAAwB,KAAKzC,IAA7B,EAAmC,YAAnC,EAAiD,CAAC,8BAA4BK,cAAckB,mBAAd,CAAkCI,aAAlC,CAAgD,CAAhD,CAA5B,GAA+E,GAAhF,EAAoF,IAApF,CAAjD;AACH;;AAEDV,uBAAW,YAAY;AACnB,oBAAIZ,cAAcE,WAAd,CAA0BC,OAA1B,IAAqC,MAAzC,EAAgD;AAC5CH,kCAAcE,WAAd,CAA0ByC,OAA1B,IAAqC3C,cAAciC,YAAd,CAA2BW,uBAA3B,CAAmD5C,cAAcE,WAAd,CAA0BiC,QAA7E,CAArC;AACA,wBAAInC,cAAcE,WAAd,CAA0ByC,OAA1B,GAAoC,GAAxC,EAA4C;AACxC3C,sCAAcE,WAAd,CAA0ByC,OAA1B,GAAoC,GAApC;AACH;AACD3C,kCAAcoC,SAAd,CAAwB,KAAKzC,IAA7B,EAAmC,YAAnC,EAAiD,CAAC,mCAAiCK,cAAciC,YAAd,CAA2BW,uBAA3B,CAAmD5C,cAAcE,WAAd,CAA0BiC,QAA7E,CAAjC,GAAwH,GAAzH,EAA6H,IAA7H,CAAjD;AACH;AACJ,aARU,CAQT9B,IARS,CAQJ,IARI,CAAX,EAQc,IARd;;AAWA,iBAAKC,OAAL;AACA,iBAAKF,cAAL;;AAEA,gBAAIyC,eAAe;AACfC,wBAAQ,CAAC,CAAD,EAAG,CAAH,EAAK,EAAL,EAAQ,EAAR,EAAW,EAAX,EAAc,EAAd,EAAiB,EAAjB,EAAoB,EAApB,EAAuB,EAAvB,CADO;AAEfC,0BAAU,CAAC/C,cAAc+B,QAAd,CAAuBC,cAAxB,EAAuChC,cAAc+B,QAAd,CAAuBM,cAA9D,EACErC,cAAc+B,QAAd,CAAuBW,SADzB,EACmC1C,cAAcE,WAAd,CAA0ByC,OAD7D,EAEE3C,cAAcE,WAAd,CAA0ByB,eAF5B,EAE4C3B,cAAcE,WAAd,CAA0B8C,YAFtE,EAGEhD,cAAcE,WAAd,CAA0B+C,YAH5B,EAGyCjD,cAAcE,WAAd,CAA0BgD,YAHnE,EAIElD,cAAcE,WAAd,CAA0B4B,WAJ5B;AAFK,aAAnB;AAQA;AACA9B,0BAAc+C,QAAd,CAAuB,EAAvB,EAA2BF,YAA3B,EAAyC,KAAKM,cAAL,CAAoB9C,IAApB,CAAyB,IAAzB,CAAzC;AACH;AACJ,KA7OI;AA+OL8C,kBA/OK,0BA+OUC,WA/OV,EA+OsB;AACvB,YAAIA,WAAJ,EAAgB;AACZ;AACApD,0BAAcE,WAAd,CAA0B4B,WAA1B,GAAwCsB,YAAYC,OAAZ,CAAoBD,YAAYC,OAAZ,CAAoBC,MAAxC,CAAxC;AACAtD,0BAAcuD,QAAd,CAAuBC,aAAvB,GAAuC,IAAvC;AACAxD,0BAAcuD,QAAd,CAAuBE,cAAvB,GAAwC,IAAxC;AACAzD,0BAAcuD,QAAd,CAAuBG,aAAvB,GAAuC,IAAvC;AACH,SAND,MAMO;AACH1D,0BAAcoC,SAAd,CAAwB,KAAKzC,IAA7B,EAAmC,YAAnC,EAAiD,CAAC,kBAAD,EAAoB,IAApB,CAAjD;AACH;AAEJ,KA1PI;;;AA4PL;AACAgE,kBA7PK,0BA6PUC,MA7PV,EA6PkBC,IA7PlB,EA6PuB;AACxB,YAAI7D,cAAcuD,QAAd,CAAuBO,YAAvB,IAAuC,IAA3C,EAAgD;AAC5C9D,0BAAcoC,SAAd,CAAwB,KAAKzC,IAA7B,EAAkC,YAAlC,EAA+C,CAAC,6BAAD,EAA+B,IAA/B,CAA/C;AACH,SAFD,MAEO;;AAEH,gBAAIK,cAAcE,WAAd,CAA0ByB,eAA1B,IAA6C,CAAjD,EAAmD;AAC/C;AACA,oBAAIkC,QAAQ,MAAZ,EAAmB;AACf,wBAAI7D,cAAcE,WAAd,CAA0ByC,OAA1B,IAAqC3C,cAAckB,mBAAd,CAAkCC,aAAlC,CAAgD,CAAhD,CAAzC,EAA4F;AACxF;AACAnB,sCAAc+D,iBAAd,CAAgC,KAAKpE,IAArC,EAA2C,YAA3C,EAAyD,CAAC,yBAAD,EAA2B,IAA3B,EAAgC,KAAhC,EAAsC,UAAtC,EAAkD,eAAlD,CAAzD,EAA6H,KAAKhB,aAAlI;AACH,qBAHD,MAGO;AACHqB,sCAAcoC,SAAd,CAAwB,KAAKzC,IAA7B,EAAmC,YAAnC,EAAiD,CAAC,4BAAD,EAA+B,IAA/B,CAAjD;AACH;AACJ,iBAPD,MAOO,IAAIkE,QAAQ,MAAZ,EAAmB;AACtB,wBAAI7D,cAAcE,WAAd,CAA0ByC,OAA1B,IAAqC3C,cAAckB,mBAAd,CAAkCE,aAAlC,CAAgD,CAAhD,CAAzC,EAA4F;AACxF;AACApB,sCAAc+D,iBAAd,CAAgC,KAAKpE,IAArC,EAA2C,YAA3C,EAAyD,CAAC,uBAAD,EAAyB,IAAzB,EAA8B,KAA9B,EAAoC,UAApC,EAAgD,eAAhD,CAAzD,EAA2H,KAAKhB,aAAhI;AACH,qBAHD,MAGO;AACHqB,sCAAcoC,SAAd,CAAwB,KAAKzC,IAA7B,EAAmC,YAAnC,EAAiD,CAAC,4BAAD,EAA+B,IAA/B,CAAjD;AACH;AACJ,iBAPM,MAOA,IAAIkE,QAAQ,WAAZ,EAAwB;AAC3B,wBAAI7D,cAAcE,WAAd,CAA0ByC,OAA1B,IAAqC3C,cAAckB,mBAAd,CAAkCG,aAAlC,CAAgD,CAAhD,CAAzC,EAA4F;AACxF;AACArB,sCAAc+D,iBAAd,CAAgC,KAAKpE,IAArC,EAA2C,YAA3C,EAAyD,CAAC,wBAAD,EAA0B,IAA1B,EAA+B,KAA/B,EAAqC,UAArC,EAAiD,eAAjD,CAAzD,EAA4H,KAAKhB,aAAjI;AACH,qBAHD,MAGO;AACHqB,sCAAcoC,SAAd,CAAwB,KAAKzC,IAA7B,EAAmC,YAAnC,EAAiD,CAAC,4BAAD,EAA+B,IAA/B,CAAjD;AACH;AACJ,iBAPM,MAOA,IAAIkE,QAAQ,OAAZ,EAAoB;AACvB;AACA7D,kCAAc+D,iBAAd,CAAgC,KAAKpE,IAArC,EAA2C,YAA3C,EAAyD,CAAC,0BAAD,EAA4B,IAA5B,EAAiC,KAAjC,EAAuC,UAAvC,EAAmD,eAAnD,CAAzD,EAA8H,KAAKhB,aAAnI;AACH;AACJ,aA3BD,MA2BO;AACH;AACA,oBAAIqB,cAAcE,WAAd,CAA0ByB,eAA1B,IAA6C,CAAjD,EAAmD;AAC/C,wBAAIqC,eAAe,eAAnB;AACH,iBAFD,MAEO,IAAIhE,cAAcE,WAAd,CAA0ByB,eAA1B,IAA6C,CAAjD,EAAmD;AACtD,wBAAIqC,eAAe,eAAnB;AACH,iBAFM,MAEA,IAAIhE,cAAcE,WAAd,CAA0ByB,eAA1B,IAA6C,CAAjD,EAAmD;AACtD,wBAAIqC,eAAe,eAAnB;AACH,iBAFM,MAEA,IAAIhE,cAAcE,WAAd,CAA0ByB,eAA1B,IAA6C,CAAjD,EAAmD;AACtD,wBAAIqC,eAAe,eAAnB;AACH;AACDhE,8BAAc+D,iBAAd,CAAgC,KAAKpE,IAArC,EAA2C,YAA3C,EAAyD,CAAC,uBAAD,EAAyB,KAAzB,EAA+B,KAA/B,EAAqC,QAArC,EAA+CqE,YAA/C,CAAzD,EAAuH,KAAKrF,aAA5H;AACH;AACJ;AACJ,KA3SI;AA6SL4B,WA7SK,qBA6SI;AACL;AACA,aAAK1C,WAAL,CAAiBiC,YAAjB,CAA8B9C,GAAGiH,MAAjC,EAAyCC,eAAzC,GAA2D,KAA3D;AACA,YAAIlE,cAAcE,WAAd,CAA0ByC,OAA1B,IAAqC,CAAzC,EAA4C;AACxC,iBAAK9E,WAAL,CAAiBiC,YAAjB,CAA8B9C,GAAGiH,MAAjC,EAAyCE,KAAzC,GAAiD,CAAjD;AACH,SAFD,MAEO;AACH,iBAAKtG,WAAL,CAAiBiC,YAAjB,CAA8B9C,GAAGiH,MAAjC,EAAyCE,KAAzC,GAAiD,KAAMnE,cAAcE,WAAd,CAA0ByC,OAA1B,GAAkC,GAAnC,GAAwC,IAAxC,GAA6C,GAAlD,CAAjD;AACH;AACD,YAAI3C,cAAcE,WAAd,CAA0ByC,OAA1B,GAAoC,EAAxC,EAA2C;AACvC,iBAAK9E,WAAL,CAAiBuG,KAAjB,GAAyB,IAAIpH,GAAGqH,KAAP,CAAa,GAAb,EAAkB,GAAlB,EAAuB,EAAvB,CAAzB;AACH,SAFD,MAEO,IAAIrE,cAAcE,WAAd,CAA0ByC,OAA1B,GAAoC,EAAxC,EAA2C;AAC9C,iBAAK9E,WAAL,CAAiBuG,KAAjB,GAAyB,IAAIpH,GAAGqH,KAAP,CAAa,GAAb,EAAkB,GAAlB,EAAuB,CAAvB,CAAzB;AACH,SAFM,MAEA,IAAIrE,cAAcE,WAAd,CAA0ByC,OAA1B,GAAoC,CAAxC,EAA0C;AAC7C,iBAAK9E,WAAL,CAAiBuG,KAAjB,GAAyB,IAAIpH,GAAGqH,KAAP,CAAa,GAAb,EAAkB,EAAlB,EAAsB,EAAtB,CAAzB;AACH;AACD;AACA,aAAK1G,aAAL,CAAmBsD,MAAnB,GAA4B,SAAOjB,cAAcE,WAAd,CAA0ByC,OAAjC,GAAyC,QAArE;;AAEA,aAAK5C,UAAL,CAAgBD,YAAhB,CAA6B9C,GAAGY,KAAhC,EAAuCqD,MAAvC,GAAgD,YAAYjB,cAAcsE,gBAAd,CAA+BtE,cAAcE,WAAd,CAA0BC,OAAzD,EAAkEoE,OAAOvE,cAAcE,WAAd,CAA0BiC,QAA1B,GAAmC,CAA1C,CAAlE,CAA5D;AACH,KAhUI;AAkUL7B,WAlUK,qBAkUI;AACL,YAAGN,cAAcE,WAAd,CAA0ByB,eAA1B,IAA6C,CAAhD,EAAkD;AAC9C3B,0BAAcwE,oBAAd,CAAmCxE,cAAcE,WAAd,CAA0ByB,eAA7D,EAA8E3B,cAAcE,WAAd,CAA0B8C,YAAxG,EAAsH,KAAKjF,cAA3H,EAA2I,IAA3I;AACA,iBAAKC,YAAL,CAAkBiD,MAAlB,GAA2B,QAA3B;AACAjB,0BAAcyE,qBAAd,CAAoCzE,cAAcE,WAAd,CAA0ByB,eAA9D,EAA+E,KAAK7D,YAApF,EAAkG,IAAlG;AAEH,SALD,MAKO,IAAIkC,cAAcE,WAAd,CAA0ByB,eAA1B,IAA6C,CAAjD,EAAoD;AACvD3B,0BAAcwE,oBAAd,CAAmCxE,cAAcE,WAAd,CAA0ByB,eAA7D,EAA8E3B,cAAcE,WAAd,CAA0B8C,YAAxG,EAAsH,KAAKjF,cAA3H,EAA2I,IAA3I;AACA,iBAAKC,YAAL,CAAkBiD,MAAlB,GAA2B,QAA3B;AACAjB,0BAAcyE,qBAAd,CAAoCzE,cAAcE,WAAd,CAA0ByB,eAA9D,EAA+E,KAAK7D,YAApF,EAAkG,IAAlG;AAEH,SALM,MAKA,IAAIkC,cAAcE,WAAd,CAA0ByB,eAA1B,IAA6C,CAAjD,EAAoD;AACvD3B,0BAAcwE,oBAAd,CAAmCxE,cAAcE,WAAd,CAA0ByB,eAA7D,EAA8E3B,cAAcE,WAAd,CAA0B8C,YAAxG,EAAsH,KAAKjF,cAA3H,EAA2I,IAA3I;AACA,iBAAKC,YAAL,CAAkBiD,MAAlB,GAA2B,QAA3B;AACAjB,0BAAcyE,qBAAd,CAAoCzE,cAAcE,WAAd,CAA0ByB,eAA9D,EAA+E,KAAK7D,YAApF,EAAkG,IAAlG;AAEH,SALM,MAKA,IAAIkC,cAAcE,WAAd,CAA0ByB,eAA1B,IAA6C,CAAjD,EAAoD;AACvD3B,0BAAcwE,oBAAd,CAAmCxE,cAAcE,WAAd,CAA0ByB,eAA7D,EAA8E3B,cAAcE,WAAd,CAA0B8C,YAAxG,EAAsH,KAAKjF,cAA3H,EAA2I,IAA3I;AACA,iBAAKC,YAAL,CAAkBiD,MAAlB,GAA2B,QAA3B;AACAjB,0BAAcyE,qBAAd,CAAoCzE,cAAcE,WAAd,CAA0ByB,eAA9D,EAA+E,KAAK7D,YAApF,EAAkG,IAAlG;AAEH,SALM,MAKA,IAAIkC,cAAcE,WAAd,CAA0ByB,eAA1B,IAA6C,CAAjD,EAAoD;AACvD3B,0BAAcwE,oBAAd,CAAmCxE,cAAcE,WAAd,CAA0ByB,eAA7D,EAA8E3B,cAAcE,WAAd,CAA0B8C,YAAxG,EAAsH,KAAKjF,cAA3H,EAA2I,IAA3I;AACA,iBAAKC,YAAL,CAAkBiD,MAAlB,GAA2B,QAA3B;AACAjB,0BAAcyE,qBAAd,CAAoCzE,cAAcE,WAAd,CAA0ByB,eAA9D,EAA+E,KAAK7D,YAApF,EAAkG,IAAlG;AACH;AAEJ,KA7VI;AA+VL4G,UA/VK,kBA+VGC,EA/VH,EA+VO;AACR,YAAI3E,cAAcuD,QAAd,CAAuBC,aAAvB,IAAwC,IAA5C,EAAiD;AAC7C,iBAAKjD,OAAL;AACH;AACJ;AAnWI,CAAT","file":"cActivityMain.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\ContentScript","sourcesContent":["\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        upperBox: cc.Node,\r\n        lowerBox: cc.Node,\r\n        PrtName: null,\r\n\r\n        _petIcon: cc.Sprite,\r\n        _petLiveIndex: cc.Label,\r\n        _petLiveBar: cc.Node,\r\n        _petActiType: cc.Sprite,\r\n        _petActiStatus: cc.Sprite,\r\n        _petActiName: cc.Label,\r\n        _petActiExpValue: cc.Label,\r\n        _petActiExpType: cc.Sprite,\r\n        _petActiSuccessRate: cc.Label,\r\n\r\n        _liveBell: cc.Node,\r\n        _actiRecall: cc.Node,\r\n        _actiType1: cc.Node,\r\n        _actiType2: cc.Node,\r\n        _actiType3: cc.Node,\r\n        _actiType4: cc.Node,\r\n\r\n        _actiTypeNext: cc.Sprite,\r\n        _actiCallback: null,\r\n\r\n        actiDuraOne: cc.Label,\r\n        actiDuraTwo: cc.Label,\r\n        actiDuraThree: cc.Label,\r\n        actiDuraFour: cc.Label,\r\n\r\n        actiBackOne: cc.Label,\r\n        actiBackTwo: cc.Label,\r\n        actiBackThree: cc.Label,\r\n        actiBackFour: cc.Label,\r\n\r\n        actiLiveOne: cc.Label,\r\n        actiLiveTwo: cc.Label,\r\n        actiLiveThree: cc.Label,\r\n        actiLiveFour: cc.Label,\r\n\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    start () {\r\n    },\r\n\r\n    setNodeDefault(){\r\n        this._upperBox = this.node.getChildByName(\"upperBox\");\r\n        this._lowerBox = this.node.getChildByName(\"lowerBox\");\r\n        this._petIcon = this._upperBox.getChildByName(\"petIcon\").getComponent(cc.Sprite);\r\n        this._petLiveIndex = this._upperBox.getChildByName(\"liveBar\").getChildByName(\"liveIndex\").getComponent(cc.Label);\r\n        this._petLiveBar = this._upperBox.getChildByName(\"liveBar\").getChildByName(\"bar\");\r\n        this._petActiType = this._upperBox.getChildByName(\"currentAssign\").getChildByName(\"acitTypeIcon\").getComponent(cc.Sprite);\r\n        this._petActiStatus = this._upperBox.getChildByName(\"currentAssign\").getChildByName(\"acitTypeIcon\").getChildByName(\"actiStatusText\").getChildByName(\"actiStatusBar\").getComponent(cc.Sprite);\r\n        this._petActiName = this._upperBox.getChildByName(\"currentAssign\").getChildByName(\"acitTypeIcon\").getChildByName(\"actiStatusText\").getComponent(cc.Label);\r\n        this._petTalent = this._upperBox.getChildByName(\"petIcon\").getChildByName(\"petTalent\");\r\n\r\n        this._actiType1 = this._lowerBox.getChildByName(\"actiChart\").getChildByName(\"actiBtnLayout\").getChildByName(\"actiOne\");\r\n        this._actiType2 = this._lowerBox.getChildByName(\"actiChart\").getChildByName(\"actiBtnLayout\").getChildByName(\"actiTwo\");\r\n        this._actiType3 = this._lowerBox.getChildByName(\"actiChart\").getChildByName(\"actiBtnLayout\").getChildByName(\"actiThree\");\r\n        this._actiType4 = this._lowerBox.getChildByName(\"actiChart\").getChildByName(\"actiBtnLayout\").getChildByName(\"actiFour\");\r\n\r\n        GlobalFuncVar.SetPetSelfieIconUpdate(GlobalFuncVar.userPetInfo.petType,this._petIcon,this);\r\n\r\n        this._actiCallback = {\r\n            setActiBtnText: this.setActiBtnText.bind(this),\r\n            setActi: this.setActi.bind(this),\r\n            setLive: this.setLive.bind(this),\r\n        };\r\n    },\r\n\r\n    //// 20200312\r\n    onShow(PrtName, FabInfo){\r\n        this.PrtName = PrtName;\r\n        this.setNodeDefault();\r\n        this.checkActi();\r\n        this.setActiBtnText();\r\n        this.setLive();\r\n        this.setActi();\r\n        this.node.active = true;\r\n\r\n        setTimeout(function () {\r\n            GlobalFuncVar.ShowDemoText(this, \"训练师小贴士：摇动活力铃可提升萌鸡活动成功率哦~\", 80);\r\n        // 20200224 改动，4000 --> 3000\r\n        }.bind(this), 2000);\r\n    },\r\n\r\n    onHide(){\r\n        this.node.active = false;\r\n    },\r\n\r\n    setActiBtnText(){\r\n\r\n        console.log(\"duration\", this.actiDuraOne);\r\n        this.actiDuraOne.string = GlobalFuncVar.sysActivityFeedback.activityType1[0];\r\n        this.actiDuraTwo.string = GlobalFuncVar.sysActivityFeedback.activityType2[0];\r\n        this.actiDuraThree.string = GlobalFuncVar.sysActivityFeedback.activityType3[0];\r\n        this.actiDuraFour.string = GlobalFuncVar.sysActivityFeedback.activityType4[0];\r\n\r\n        this.actiBackOne.string = GlobalFuncVar.sysActivityFeedback.activityType1[1];\r\n        this.actiBackTwo.string = GlobalFuncVar.sysActivityFeedback.activityType2[1];\r\n        this.actiBackThree.string = GlobalFuncVar.sysActivityFeedback.activityType3[1];\r\n        this.actiBackFour.string = GlobalFuncVar.sysActivityFeedback.activityType4[1];\r\n\r\n        this.actiLiveOne.string = \"-\" + GlobalFuncVar.sysActivityFeedback.activityType1[3];\r\n        this.actiLiveTwo.string = \"-\" + GlobalFuncVar.sysActivityFeedback.activityType2[3];\r\n        this.actiLiveThree.string = \"-\" + GlobalFuncVar.sysActivityFeedback.activityType3[3];\r\n        this.actiLiveFour.string = \"-\" + GlobalFuncVar.sysActivityFeedback.activityType4[3];\r\n\r\n        let node1 = this._actiType1.getChildByName(\"Background\").getChildByName(\"Label\").getComponent(cc.Label);\r\n        let node2 = this._actiType2.getChildByName(\"Background\").getChildByName(\"Label\").getComponent(cc.Label);\r\n        let node3 = this._actiType3.getChildByName(\"Background\").getChildByName(\"Label\").getComponent(cc.Label);\r\n        let node4 = this._actiType4.getChildByName(\"Background\").getChildByName(\"Label\").getComponent(cc.Label);\r\n\r\n        if (GlobalFuncVar.userPetInfo.actiTypeCurrent == 0){\r\n            this._actiType1.getComponent(cc.Button).interactable = true;\r\n            this._actiType2.getComponent(cc.Button).interactable = true;\r\n            this._actiType3.getComponent(cc.Button).interactable = true;\r\n            this._actiType4.getComponent(cc.Button).interactable = true;\r\n            node1.string = \"布置\";\r\n            node2.string = \"布置\";\r\n            node3.string = \"布置\";\r\n            node4.string = \"布置\";\r\n        } else if (GlobalFuncVar.userPetInfo.actiTypeCurrent == 1){\r\n            this._actiType1.getComponent(cc.Button).interactable = true;\r\n            this._actiType2.getComponent(cc.Button).interactable = false;\r\n            this._actiType3.getComponent(cc.Button).interactable = false;\r\n            this._actiType4.getComponent(cc.Button).interactable = false;\r\n            node1.string = \"召回\";\r\n            node2.string = \"布置\";\r\n            node3.string = \"布置\";\r\n            node4.string = \"布置\";\r\n        } else if (GlobalFuncVar.userPetInfo.actiTypeCurrent == 2){\r\n            this._actiType1.getComponent(cc.Button).interactable = false;\r\n            this._actiType2.getComponent(cc.Button).interactable = true;\r\n            this._actiType3.getComponent(cc.Button).interactable = false;\r\n            this._actiType4.getComponent(cc.Button).interactable = false;\r\n            node1.string = \"布置\";\r\n            node2.string = \"召回\";\r\n            node3.string = \"布置\";\r\n            node4.string = \"布置\";\r\n        } else if (GlobalFuncVar.userPetInfo.actiTypeCurrent == 3){\r\n            this._actiType1.getComponent(cc.Button).interactable = false;\r\n            this._actiType2.getComponent(cc.Button).interactable = false;\r\n            this._actiType3.getComponent(cc.Button).interactable = true;\r\n            this._actiType4.getComponent(cc.Button).interactable = false;\r\n            node1.string = \"布置\";\r\n            node2.string = \"布置\";\r\n            node3.string = \"召回\";\r\n            node4.string = \"布置\";\r\n        } else if (GlobalFuncVar.userPetInfo.actiTypeCurrent == 4){\r\n            this._actiType1.getComponent(cc.Button).interactable = false;\r\n            this._actiType2.getComponent(cc.Button).interactable = false;\r\n            this._actiType3.getComponent(cc.Button).interactable = false;\r\n            this._actiType4.getComponent(cc.Button).interactable = true;\r\n            node1.string = \"布置\";\r\n            node2.string = \"布置\";\r\n            node3.string = \"布置\";\r\n            node4.string = \"召回\";\r\n        }\r\n    },\r\n\r\n    checkActi(){\r\n        // need \"harvest\" params to check if the user has ready to harvest\r\n        if (GlobalFuncVar.userPetInfo.actiHarvest > 0){\r\n            if (GlobalFuncVar.userPetInfo.actiHarvest == 1){\r\n                if (GlobalFuncVar.userPetInfo.petType == \"duoduo\"){\r\n                    GlobalFuncVar.userInfo.goldHoldVolume += GlobalFuncVar.sysActivityFeedback.activityType1[1] + GlobalFuncVar.sysPetTalent.sysPetTalent_DuoduoTalent[GlobalFuncVar.userPetInfo.petLevel];\r\n                    GlobalFuncVar.CallPopUp(this.node, \"PopUpType1\", [\"我揣着金币回来啦！\\n天赋让我还多赚了几枚金币哦~求表扬！\\n(金币+\"+GlobalFuncVar.sysActivityFeedback.activityType1[1]+\", 天赋金币+\"+ GlobalFuncVar.sysPetTalent.sysPetTalent_DuoduoTalent[GlobalFuncVar.userPetInfo.petLevel] +\")\",\"好的\"]);\r\n                } else {\r\n                    GlobalFuncVar.userInfo.goldHoldVolume += GlobalFuncVar.sysActivityFeedback.activityType1[1];\r\n                    GlobalFuncVar.CallPopUp(this.node, \"PopUpType1\", [\"我回来啦！\\n请收下我们的金币！\\n(金币+\"+GlobalFuncVar.sysActivityFeedback.activityType1[1]+\")\",\"好的\"]);\r\n                };\r\n                //GlobalFuncVar.userPetInfo.petLive -= GlobalFuncVar.sysActivityFeedback.activityType1[3];\r\n\r\n            } else if (GlobalFuncVar.userPetInfo.actiHarvest == 2){\r\n                if (GlobalFuncVar.userPetInfo.petType == \"maiqi\"){\r\n                    GlobalFuncVar.userInfo.foodHoldVolume += GlobalFuncVar.sysActivityFeedback.activityType2[1] + GlobalFuncVar.sysPetTalent.sysPetTalent_MaiqiTalent[GlobalFuncVar.userPetInfo.petLevel];\r\n                    GlobalFuncVar.CallPopUp(this.node, \"PopUpType1\", [\"我扛着粮食回来啦！\\n天赋让我还多赚了不少粮食哦~求表扬！\\n(粮食+\"+GlobalFuncVar.sysActivityFeedback.activityType1[1]+\", 天赋粮食+\"+ GlobalFuncVar.sysPetTalent.sysPetTalent_MaiqiTalent[GlobalFuncVar.userPetInfo.petLevel] +\")\",\"好的\"]);\r\n                } else {\r\n                    GlobalFuncVar.userInfo.foodHoldVolume += GlobalFuncVar.sysActivityFeedback.activityType2[1];\r\n                    GlobalFuncVar.CallPopUp(this.node, \"PopUpType1\", [\"我回来啦！\\n请收下我们的粮食！\\n(粮食+\"+GlobalFuncVar.sysActivityFeedback.activityType2[1]+\")\",\"好的\"]);\r\n                };\r\n                //GlobalFuncVar.userPetInfo.petLive -= GlobalFuncVar.sysActivityFeedback.activityType2[3];\r\n\r\n            } else if (GlobalFuncVar.userPetInfo.actiHarvest == 3){\r\n                if (GlobalFuncVar.userPetInfo.petType == \"huanhuan\" && Math.random() <= GlobalFuncVar.sysPetTalent.sysPetTalent_HuanhuanTalent[GlobalFuncVar.userPetInfo.petLevel]){\r\n                    GlobalFuncVar.userInfo.newsExtra = GlobalFuncVar.sysActivityFeedback.activityType3[1] + GlobalFuncVar.sysActivityFeedback.activityType3[1];\r\n                    GlobalFuncVar.CallPopUp(this.node, \"PopUpType1\", [\"我带着两条新闻回来啦！\\n记得在森林广播站查看额外新闻事件哦！\\n(\"+GlobalFuncVar.sysActivityFeedback.activityType3[1]+\"*2)\",\"好的\"]);\r\n                } else if (GlobalFuncVar.userPetInfo.petType == \"huanhuan\" && Math.random() > GlobalFuncVar.sysPetTalent.sysPetTalent_HuanhuanTalent[GlobalFuncVar.userPetInfo.petLevel]){\r\n                    GlobalFuncVar.userInfo.newsExtra = GlobalFuncVar.sysActivityFeedback.activityType3[1];\r\n                    GlobalFuncVar.CallPopUp(this.node, \"PopUpType1\", [\"我回来啦！\\n这次我没能成功发挥天赋...\\n(\"+GlobalFuncVar.sysActivityFeedback.activityType3[1]+\"*1)\",\"好的\"]);\r\n                } \r\n                else {\r\n                    GlobalFuncVar.userInfo.newsExtra = GlobalFuncVar.sysActivityFeedback.activityType3[1];\r\n                    GlobalFuncVar.CallPopUp(this.node, \"PopUpType1\", [\"我回来啦！\\n请记得在森林广播站查看额外新闻事件哦！\\n(\"+GlobalFuncVar.sysActivityFeedback.activityType3[1]+\"*1)\",\"好的\"]);\r\n                };\r\n                //GlobalFuncVar.userPetInfo.petLive -= GlobalFuncVar.sysActivityFeedback.activityType3[3];\r\n            } else if (GlobalFuncVar.userPetInfo.actiHarvest == 4){\r\n                GlobalFuncVar.userPetInfo.petLive += GlobalFuncVar.sysActivityFeedback.activityType4[1];\r\n                if (GlobalFuncVar.userPetInfo.petLive > 100){\r\n                    GlobalFuncVar.userPetInfo.petLive = 100;\r\n                }\r\n                GlobalFuncVar.CallPopUp(this.node, \"PopUpType1\", [\"睡得好香呀~\\n我又恢复满满活力啦！\\n(活力值+\"+GlobalFuncVar.sysActivityFeedback.activityType4[1]+\")\",\"好的\"]);\r\n            };\r\n\r\n            setTimeout(function () {\r\n                if (GlobalFuncVar.userPetInfo.petType == \"dayu\"){\r\n                    GlobalFuncVar.userPetInfo.petLive += GlobalFuncVar.sysPetTalent.sysPetTalent_DayuTalent[GlobalFuncVar.userPetInfo.petLevel];\r\n                    if (GlobalFuncVar.userPetInfo.petLive > 100){\r\n                        GlobalFuncVar.userPetInfo.petLive = 100;\r\n                    };\r\n                    GlobalFuncVar.CallPopUp(this.node, \"PopUpType1\", [\"我的天赋发挥作用啦！\\n活力值得到小部分恢复~\\n(活力值+\"+GlobalFuncVar.sysPetTalent.sysPetTalent_DayuTalent[GlobalFuncVar.userPetInfo.petLevel]+\")\",\"好的\"]);\r\n                }\r\n            }.bind(this), 1500);\r\n                \r\n\r\n            this.setActi();\r\n            this.setActiBtnText();\r\n\r\n            var emitDataPack = {\r\n                emitID: [1,2,25,10,16,26,18,19,65],\r\n                emitData: [GlobalFuncVar.userInfo.goldHoldVolume,GlobalFuncVar.userInfo.foodHoldVolume,\r\n                            GlobalFuncVar.userInfo.newsExtra,GlobalFuncVar.userPetInfo.petLive,\r\n                            GlobalFuncVar.userPetInfo.actiTypeCurrent,GlobalFuncVar.userPetInfo.actiLeftDays,\r\n                            GlobalFuncVar.userPetInfo.actiAssigned,GlobalFuncVar.userPetInfo.actiTypeNext,\r\n                            GlobalFuncVar.userPetInfo.actiHarvest],\r\n            };\r\n            //GlobalFuncVar.emitData(22, emitDataPack).then(this.eventAfterSync.bind(this)).catch(err => {console.log(err)});\r\n            GlobalFuncVar.emitData(22, emitDataPack, this.eventAfterSync.bind(this));\r\n        };\r\n    },\r\n\r\n    eventAfterSync(rcvDataPack){\r\n        if (rcvDataPack){\r\n            // 这里收获要更改，不然会一直报收获\r\n            GlobalFuncVar.userPetInfo.actiHarvest = rcvDataPack.rcvData[rcvDataPack.rcvData.length];\r\n            GlobalFuncVar.gameFlag.petInfoUpdate = true;\r\n            GlobalFuncVar.gameFlag.petAnimiUpdate = true;\r\n            GlobalFuncVar.gameFlag.userResUpdate = true;\r\n        } else {\r\n            GlobalFuncVar.CallPopUp(this.node, \"PopUpType1\", [\"网络出现问题啦~\\n请稍后再试~\",\"好的\"]);\r\n        }\r\n        \r\n    },\r\n\r\n    //// 20200302\r\n    onClickActiBtn(target, type){\r\n        if (GlobalFuncVar.gameFlag.TutorialStep != null){\r\n            GlobalFuncVar.CallPopUp(this.node,\"PopUpType1\",[\"此按钮可以为我布置任务！\\n消耗活力值但是有丰厚回报~\",\"好的\"]);\r\n        } else {\r\n\r\n            if (GlobalFuncVar.userPetInfo.actiTypeCurrent == 0){\r\n                //布置任务\r\n                if (type == \"work\"){\r\n                    if (GlobalFuncVar.userPetInfo.petLive >= GlobalFuncVar.sysActivityFeedback.activityType1[3]){\r\n                        // 布置打工任务\r\n                        GlobalFuncVar.CallDoubleConfirm(this.node, \"PopUpType2\", [\"我是一个粉刷匠，粉刷本领强！\\n那我去打工啦~\",\"加油\",\"再想想\",\"activity\", \"activityType1\"], this._actiCallback);\r\n                    } else {\r\n                        GlobalFuncVar.CallPopUp(this.node, \"PopUpType1\", [\"活力不足，无法出门打工...\\n先为我摇动活力铃吧~\", \"好的\"]);\r\n                    }\r\n                } else if (type == \"farm\"){\r\n                    if (GlobalFuncVar.userPetInfo.petLive >= GlobalFuncVar.sysActivityFeedback.activityType2[3]){\r\n                        // 布置务农任务\r\n                        GlobalFuncVar.CallDoubleConfirm(this.node, \"PopUpType2\", [\"锄禾日当午，汗滴禾下土！\\n那我去务农啦~\",\"加油\",\"再想想\",\"activity\", \"activityType2\"], this._actiCallback);\r\n                    } else {\r\n                        GlobalFuncVar.CallPopUp(this.node, \"PopUpType1\", [\"活力不足，无法出门打工...\\n先为我摇动活力铃吧~\", \"好的\"]);\r\n                    }\r\n                } else if (type == \"interview\"){\r\n                    if (GlobalFuncVar.userPetInfo.petLive >= GlobalFuncVar.sysActivityFeedback.activityType3[3]){\r\n                        // 布置采访任务\r\n                        GlobalFuncVar.CallDoubleConfirm(this.node, \"PopUpType2\", [\"家事国事天下事，事事关心！\\n那我去采访啦~\",\"加油\",\"再想想\",\"activity\", \"activityType3\"], this._actiCallback);\r\n                    } else {\r\n                        GlobalFuncVar.CallPopUp(this.node, \"PopUpType1\", [\"活力不足，无法出门打工...\\n先为我摇动活力铃吧~\", \"好的\"]);\r\n                    }\r\n                } else if (type == \"sleep\"){\r\n                    // 布置睡觉任务\r\n                    GlobalFuncVar.CallDoubleConfirm(this.node, \"PopUpType2\", [\"Zzzzzzzzzzzzzz!\\n那我去睡觉啦~\",\"晚安\",\"再想想\",\"activity\", \"activityType4\"], this._actiCallback);\r\n                }\r\n            } else {\r\n                // 召回鸡\r\n                if (GlobalFuncVar.userPetInfo.actiTypeCurrent == 1){\r\n                    var actiTypeTemp = \"activityType1\";\r\n                } else if (GlobalFuncVar.userPetInfo.actiTypeCurrent == 2){\r\n                    var actiTypeTemp = \"activityType2\";\r\n                } else if (GlobalFuncVar.userPetInfo.actiTypeCurrent == 3){\r\n                    var actiTypeTemp = \"activityType3\";\r\n                } else if (GlobalFuncVar.userPetInfo.actiTypeCurrent == 4){\r\n                    var actiTypeTemp = \"activityType4\"\r\n                };\r\n                GlobalFuncVar.CallDoubleConfirm(this.node, \"PopUpType2\", [\"主人你找我回家嘛？会损失掉如下收获哦...\",\"快回来\",\"没事了\",\"recall\", actiTypeTemp], this._actiCallback);\r\n            }\r\n        }        \r\n    },\r\n    \r\n    setLive(){\r\n        // set the progress bar according to the petLive.\r\n        this._petLiveBar.getComponent(cc.Widget).isAbsoluteRight = false;\r\n        if (GlobalFuncVar.userPetInfo.petLive == 0) {\r\n            this._petLiveBar.getComponent(cc.Widget).right = 1;\r\n        } else {\r\n            this._petLiveBar.getComponent(cc.Widget).right = 1 - ((GlobalFuncVar.userPetInfo.petLive/100)*0.90+0.1);\r\n        }\r\n        if (GlobalFuncVar.userPetInfo.petLive > 50){\r\n            this._petLiveBar.color = new cc.Color(156, 188, 48);\r\n        } else if (GlobalFuncVar.userPetInfo.petLive > 20){\r\n            this._petLiveBar.color = new cc.Color(204, 204, 0);\r\n        } else if (GlobalFuncVar.userPetInfo.petLive > 0){\r\n            this._petLiveBar.color = new cc.Color(179, 72, 18);\r\n        };\r\n        // set the index according to the petLive.\r\n        this._petLiveIndex.string = \"活力值：\"+GlobalFuncVar.userPetInfo.petLive+\" / 100\";\r\n\r\n        this._petTalent.getComponent(cc.Label).string = \"萌鸡天赋：\\n\" + GlobalFuncVar.sysPetTalentText[GlobalFuncVar.userPetInfo.petType][Number(GlobalFuncVar.userPetInfo.petLevel-1)];\r\n    },\r\n\r\n    setActi(){\r\n        if(GlobalFuncVar.userPetInfo.actiTypeCurrent == 1){\r\n            GlobalFuncVar.SetActiProgressLevel(GlobalFuncVar.userPetInfo.actiTypeCurrent, GlobalFuncVar.userPetInfo.actiLeftDays, this._petActiStatus, this);\r\n            this._petActiName.string = \"打工中...\";\r\n            GlobalFuncVar.SetActiTypeIconUpdate(GlobalFuncVar.userPetInfo.actiTypeCurrent, this._petActiType, this);\r\n\r\n        } else if (GlobalFuncVar.userPetInfo.actiTypeCurrent == 2) {\r\n            GlobalFuncVar.SetActiProgressLevel(GlobalFuncVar.userPetInfo.actiTypeCurrent, GlobalFuncVar.userPetInfo.actiLeftDays, this._petActiStatus, this);\r\n            this._petActiName.string = \"务农中...\";\r\n            GlobalFuncVar.SetActiTypeIconUpdate(GlobalFuncVar.userPetInfo.actiTypeCurrent, this._petActiType, this);\r\n\r\n        } else if (GlobalFuncVar.userPetInfo.actiTypeCurrent == 3) {\r\n            GlobalFuncVar.SetActiProgressLevel(GlobalFuncVar.userPetInfo.actiTypeCurrent, GlobalFuncVar.userPetInfo.actiLeftDays, this._petActiStatus, this);\r\n            this._petActiName.string = \"采访中...\";\r\n            GlobalFuncVar.SetActiTypeIconUpdate(GlobalFuncVar.userPetInfo.actiTypeCurrent, this._petActiType, this);\r\n\r\n        } else if (GlobalFuncVar.userPetInfo.actiTypeCurrent == 4) {\r\n            GlobalFuncVar.SetActiProgressLevel(GlobalFuncVar.userPetInfo.actiTypeCurrent, GlobalFuncVar.userPetInfo.actiLeftDays, this._petActiStatus, this);\r\n            this._petActiName.string = \"睡觉中...\";\r\n            GlobalFuncVar.SetActiTypeIconUpdate(GlobalFuncVar.userPetInfo.actiTypeCurrent, this._petActiType, this);\r\n\r\n        } else if (GlobalFuncVar.userPetInfo.actiTypeCurrent == 0) {\r\n            GlobalFuncVar.SetActiProgressLevel(GlobalFuncVar.userPetInfo.actiTypeCurrent, GlobalFuncVar.userPetInfo.actiLeftDays, this._petActiStatus, this);\r\n            this._petActiName.string = \"玩耍中...\";\r\n            GlobalFuncVar.SetActiTypeIconUpdate(GlobalFuncVar.userPetInfo.actiTypeCurrent, this._petActiType, this);\r\n        };\r\n\r\n    },\r\n\r\n    update (dt) {\r\n        if (GlobalFuncVar.gameFlag.petInfoUpdate == true){\r\n            this.setLive();\r\n        };\r\n    },\r\n});\r\n"]}