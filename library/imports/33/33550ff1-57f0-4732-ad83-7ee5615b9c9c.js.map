{"version":3,"sources":["..\\..\\..\\..\\assets\\Script/assets\\Script\\cSwitchView.js"],"names":["cc","Class","extends","Component","properties","PrtName","NewsBroadcast","Node","NewsNow","String","_tutorial","_tutorialMask","_tutorialBg","_tutorialText","_tutorialFingerPrint","_newsStationFakeBtn","_privateMarketFakeBtn","_goldBankFakeBtn","_tradeMarketFadeBtn","_foodBarnFakeBtn","_toMainViewFakeBtn","_midBtn1","_midBtn2","_midBtn3","_midBtn4","_touchStartX","_touchEndX","_mainView","start","setDefaultNode","node","getChildByName","getComponent","Widget","isAbsoluteTop","isAbsoluteLeft","isAbsoluteRight","isAbsoluteBottom","active","width","view","getFrameSize","height","onShow","FabInfo","ShowFlag","setNewsDefault","notiMarkStatus","listenToSwitch","GlobalFuncVar","gameFlag","TutorialStep","tutorialRoute","newsViewed","showNotiMark","userInfo","newsExtra","goldInterestReady","goldWelfareReady","foodWelfareReady","foodHarvestReady","tradeAwardReady","on","EventType","TOUCH_START","event","getLocationX","bind","TOUCH_END","Label","string","isAlignBottom","isAlignTop","isAlignLeft","isAlignRight","left","right","bottom","setTutorialBoxUpdate","then","setTutoriaTextlUpdate","verbal","tutorial","TutorialStep5","msg","console","log","TutorialStep6","TutorialStep7","TutorialStep8","TutorialStep9","top","TutorialStep10","onNextStepBtnClick","stepNum","initPos","finalPos","interval","repeat","delay","repeatCount","schedule","Promise","resolve","reject","tutorialText","tutorialLabel","length","stringCount","substring","onHide","onClickMidBtn1","target","pin","TierTwoPrefab","onClickMidBtn2","onClickMidBtn3","onClickMidBtn4","onClickMidBtn5","NextSlideIn","TierOnePrefab","x","onClickMidBtn7","sysNewsData","newsNow","NewsNowLen","subStr1","Math","floor","subStr2","subStr3","setNewsBroadcast","parent","self","timeTot","increment","setTimeout","update","dt"],"mappings":"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","file":"cSwitchView.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        PrtName: null,\r\n        NewsBroadcast: cc.Node,\r\n        NewsNow: cc.String,\r\n        _tutorial: cc.Node,\r\n        _tutorialMask: cc.Node,\r\n        _tutorialBg: cc.Node,\r\n        _tutorialText: cc.Node,\r\n        _tutorialFingerPrint: cc.Node,\r\n        _newsStationFakeBtn: cc.Node,\r\n        _privateMarketFakeBtn: cc.Node,\r\n        _goldBankFakeBtn: cc.Node,\r\n        _tradeMarketFadeBtn: cc.Node,\r\n        _foodBarnFakeBtn: cc.Node,\r\n        _toMainViewFakeBtn: cc.Node,\r\n        _midBtn1: cc.Node,\r\n        _midBtn2: cc.Node,\r\n        _midBtn3: cc.Node,\r\n        _midBtn4: cc.Node,\r\n        _touchStartX: null,\r\n        _touchEndX: null,\r\n        _mainView: cc.Node,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    setDefaultNode(){\r\n        this._tutorial = this.node.getChildByName(\"Tutorial\");\r\n        this._tutorialMask = this._tutorial.getChildByName(\"TutorialMask\");\r\n        this._tutorialMask.getComponent(cc.Widget).isAbsoluteTop = false;\r\n        this._tutorialMask.getComponent(cc.Widget).isAbsoluteLeft = false;\r\n        this._tutorialMask.getComponent(cc.Widget).isAbsoluteRight = false;\r\n        this._tutorialMask.getComponent(cc.Widget).isAbsoluteBottom = false;\r\n        this._tutorialBg = this._tutorialMask.getChildByName(\"TutorialBg\");\r\n        this._tutorialBg.getComponent(cc.Widget).isAbsoluteTop = true;\r\n        this._tutorialBg.getComponent(cc.Widget).isAbsoluteLeft = true;\r\n        this._tutorialBg.getComponent(cc.Widget).isAbsoluteRight = true;\r\n        this._tutorialBg.getComponent(cc.Widget).isAbsoluteBottom = true;\r\n        this._tutorialText = this._tutorialBg.getChildByName(\"TutorialText\");\r\n        this._tutorialFingerPrint = this._tutorialBg.getChildByName(\"FingerPrint\");\r\n        this._tutorialFingerPrint.active = false; //默认隐藏按钮\r\n        this._tutorial.active = false; //默认关闭教程页面\r\n\r\n        this._newsStationFakeBtn = this._tutorial.getChildByName(\"fadeBtnBox\").getChildByName(\"newsStationFakeBtn\");\r\n        this._goldBankFakeBtn = this._tutorial.getChildByName(\"fadeBtnBox\").getChildByName(\"goldBankFakeBtn\");\r\n        this._tradeMarketFadeBtn = this._tutorial.getChildByName(\"fadeBtnBox\").getChildByName(\"tradeMarketFakeBtn\");\r\n        this._foodBarnFakeBtn = this._tutorial.getChildByName(\"fadeBtnBox\").getChildByName(\"foodBarnFakeBtn\");\r\n        this._toMainViewFakeBtn = this._tutorial.getChildByName(\"fadeBtnBox\").getChildByName(\"toMainViewFakeBtn\");\r\n        this._privateMarketFakeBtn = this._tutorial.getChildByName(\"fadeBtnBox\").getChildByName(\"privateMarketFakeBtn\");\r\n\r\n        this._midBtn1 = this.node.getChildByName(\"MidBox\").getChildByName(\"MidBtn1\");\r\n        this._midBtn2 = this.node.getChildByName(\"MidBox\").getChildByName(\"MidBtn2\");\r\n        this._midBtn3 = this.node.getChildByName(\"MidBox\").getChildByName(\"MidBtn3\");\r\n        this._midBtn4 = this.node.getChildByName(\"MidBox\").getChildByName(\"MidBtn4\");\r\n\r\n        this._mainView = this.node.getChildByName(\"MainView\");\r\n        this._mainView.width = this._mainView.width * (cc.view.getFrameSize().width / 375) * (812 / cc.view.getFrameSize().height);\r\n    },\r\n\r\n    onShow: function(FabInfo, PrtName, ShowFlag){\r\n        this.PrtName = PrtName;\r\n        this.setDefaultNode();\r\n        this.setNewsDefault();\r\n        this.notiMarkStatus();\r\n        this.listenToSwitch();\r\n        \r\n\r\n        if (GlobalFuncVar.gameFlag.TutorialStep != null){\r\n            /// backdoor\r\n            // GlobalFuncVar.gameFlag.TutorialStep = 7;\r\n            this._tutorial.active = true;\r\n            this.tutorialRoute();\r\n        };\r\n\r\n        this.node.active = ShowFlag;\r\n    },\r\n\r\n    notiMarkStatus(){\r\n        if (GlobalFuncVar.gameFlag.newsViewed == false){\r\n            GlobalFuncVar.showNotiMark(this._midBtn1, GlobalFuncVar.userInfo.newsExtra != null);\r\n        };\r\n        GlobalFuncVar.showNotiMark(this._midBtn2, GlobalFuncVar.userInfo.goldInterestReady == 1 || GlobalFuncVar.userInfo.goldWelfareReady == 1);\r\n        GlobalFuncVar.showNotiMark(this._midBtn3, GlobalFuncVar.userInfo.foodWelfareReady == 1 || GlobalFuncVar.userInfo.foodHarvestReady == 1);\r\n        GlobalFuncVar.showNotiMark(this._midBtn4, GlobalFuncVar.userInfo.tradeAwardReady == 1);\r\n    },\r\n\r\n    listenToSwitch(){\r\n        this.node.on(cc.Node.EventType.TOUCH_START, function (event){\r\n            this._touchStartX = event.getLocationX();\r\n        }.bind(this), this);\r\n        this.node.on(cc.Node.EventType.TOUCH_END, function (event){\r\n            this._touchEndX = event.getLocationX();\r\n        }.bind(this), this);\r\n    },\r\n\r\n    //// 20200309\r\n    tutorialRoute(){\r\n        if (GlobalFuncVar.gameFlag.TutorialStep == 5){\r\n            this._tutorialText.getComponent(cc.Label).string = \"\";\r\n            this._newsStationFakeBtn.active = false;\r\n            this._goldBankFakeBtn.active = false;\r\n            this._tradeMarketFadeBtn.active = false;\r\n            this._foodBarnFakeBtn.active = false;\r\n            this._toMainViewFakeBtn.active = false;\r\n            this._privateMarketFakeBtn.active = false;\r\n            this._tutorialBg.getComponent(cc.Widget).isAlignBottom = true;\r\n            this._tutorialBg.getComponent(cc.Widget).isAlignTop = false;\r\n            this._tutorialBg.getComponent(cc.Widget).isAlignLeft = true;\r\n            this._tutorialBg.getComponent(cc.Widget).isAlignRight = true;\r\n            this._tutorialBg.getComponent(cc.Widget).left = 0;\r\n            this._tutorialBg.getComponent(cc.Widget).right = -200;\r\n            this._tutorialBg.getComponent(cc.Widget).bottom = -205;\r\n            this.setTutorialBoxUpdate(5,[0.29,0.71,0,1],[0.22,0.64,0.02,0.58])\r\n            .then(\r\n                this.setTutoriaTextlUpdate(5,GlobalFuncVar.verbal.tutorial.TutorialStep5,this._tutorialText.getComponent(cc.Label))\r\n            )\r\n            .then((msg) => {\r\n                console.log(msg);\r\n            })\r\n            .then(() => {this._newsStationFakeBtn.active = true;});\r\n        } else if (GlobalFuncVar.gameFlag.TutorialStep == 6){\r\n            this._tutorialText.getComponent(cc.Label).string = \"\";\r\n            this._newsStationFakeBtn.active = false;\r\n            this._goldBankFakeBtn.active = false;\r\n            this._tradeMarketFadeBtn.active = false;\r\n            this._foodBarnFakeBtn.active = false;\r\n            this._toMainViewFakeBtn.active = false;\r\n            this._privateMarketFakeBtn.active = false;\r\n            this._tutorialBg.getComponent(cc.Widget).isAlignBottom = true;\r\n            this._tutorialBg.getComponent(cc.Widget).isAlignTop = false;\r\n            this._tutorialBg.getComponent(cc.Widget).isAlignLeft = true;\r\n            this._tutorialBg.getComponent(cc.Widget).isAlignRight = true;\r\n            this._tutorialBg.getComponent(cc.Widget).left = -200;\r\n            this._tutorialBg.getComponent(cc.Widget).right = 0;\r\n            this._tutorialBg.getComponent(cc.Widget).bottom = -205;\r\n            this.setTutorialBoxUpdate(6,[0.22,0.64,0.02,0.58],[0.22,0.64,0.58,0.02])\r\n            .then(\r\n                this.setTutoriaTextlUpdate(6,GlobalFuncVar.verbal.tutorial.TutorialStep6,this._tutorialText.getComponent(cc.Label))\r\n            )\r\n            .then((msg) => {\r\n                console.log(msg);\r\n            })\r\n            .then(() => {this._goldBankFakeBtn.active = true;});\r\n        } else if (GlobalFuncVar.gameFlag.TutorialStep == 7){\r\n            this._tutorialText.getComponent(cc.Label).string = \"\";\r\n            this._newsStationFakeBtn.active = false;\r\n            this._goldBankFakeBtn.active = false;\r\n            this._tradeMarketFadeBtn.active = false;\r\n            this._foodBarnFakeBtn.active = false;\r\n            this._toMainViewFakeBtn.active = false;\r\n            this._privateMarketFakeBtn.active = false;\r\n            this._tutorialBg.getComponent(cc.Widget).isAlignBottom = true;\r\n            this._tutorialBg.getComponent(cc.Widget).isAlignTop = false;\r\n            this._tutorialBg.getComponent(cc.Widget).isAlignLeft = true;\r\n            this._tutorialBg.getComponent(cc.Widget).isAlignRight = true;\r\n            this._tutorialBg.getComponent(cc.Widget).left = 0;\r\n            this._tutorialBg.getComponent(cc.Widget).right = -200;\r\n            this._tutorialBg.getComponent(cc.Widget).bottom = -205;\r\n            this.setTutorialBoxUpdate(7,[0.22,0.64,0.58,0.02],[0.59,0.24,0.02,0.58])\r\n            .then(\r\n                this.setTutoriaTextlUpdate(7,GlobalFuncVar.verbal.tutorial.TutorialStep7,this._tutorialText.getComponent(cc.Label))\r\n            )\r\n            .then((msg) => {\r\n                console.log(msg);\r\n            })\r\n            .then(() => {this._foodBarnFakeBtn.active = true;});\r\n        } else if (GlobalFuncVar.gameFlag.TutorialStep == 8){\r\n            this._tutorialText.getComponent(cc.Label).string = \"\";\r\n            this._newsStationFakeBtn.active = false;\r\n            this._goldBankFakeBtn.active = false;\r\n            this._tradeMarketFadeBtn.active = false;\r\n            this._foodBarnFakeBtn.active = false;\r\n            this._toMainViewFakeBtn.active = false;\r\n            this._privateMarketFakeBtn.active = false;\r\n            this._tutorialBg.getComponent(cc.Widget).isAlignBottom = true;\r\n            this._tutorialBg.getComponent(cc.Widget).isAlignTop = false;\r\n            this._tutorialBg.getComponent(cc.Widget).isAlignLeft = true;\r\n            this._tutorialBg.getComponent(cc.Widget).isAlignRight = true;\r\n            this._tutorialBg.getComponent(cc.Widget).left = -100;\r\n            this._tutorialBg.getComponent(cc.Widget).right = -100;\r\n            this._tutorialBg.getComponent(cc.Widget).bottom = -205;\r\n            this.setTutorialBoxUpdate(8,[0.59,0.24,0.02,0.58],[0.35,0.38,0.2,0.2])\r\n            .then(\r\n                this.setTutoriaTextlUpdate(8,GlobalFuncVar.verbal.tutorial.TutorialStep8,this._tutorialText.getComponent(cc.Label))\r\n            )\r\n            .then((msg) => {\r\n                console.log(msg);\r\n            })\r\n            .then(() => {this._tradeMarketFadeBtn.active = true;});\r\n        } else if (GlobalFuncVar.gameFlag.TutorialStep == 9){\r\n            this._tutorialText.getComponent(cc.Label).string = \"\";\r\n            this._newsStationFakeBtn.active = false;\r\n            this._goldBankFakeBtn.active = false;\r\n            this._tradeMarketFadeBtn.active = false;\r\n            this._foodBarnFakeBtn.active = false;\r\n            this._toMainViewFakeBtn.active = false;\r\n            this._privateMarketFakeBtn.active = false;\r\n            this._tutorialBg.getComponent(cc.Widget).isAlignBottom = true;\r\n            this._tutorialBg.getComponent(cc.Widget).isAlignTop = false;\r\n            this._tutorialBg.getComponent(cc.Widget).isAlignLeft = true;\r\n            this._tutorialBg.getComponent(cc.Widget).isAlignRight = true;\r\n            this._tutorialBg.getComponent(cc.Widget).left = -200;\r\n            this._tutorialBg.getComponent(cc.Widget).right = 0;\r\n            this._tutorialBg.getComponent(cc.Widget).bottom = -205;\r\n            this.setTutorialBoxUpdate(9,[0.35,0.38,0.2,0.2],[0.59,0.24,0.58,0.02])\r\n            .then(\r\n                this.setTutoriaTextlUpdate(9,GlobalFuncVar.verbal.tutorial.TutorialStep9,this._tutorialText.getComponent(cc.Label))\r\n            )\r\n            .then((msg) => {\r\n                console.log(msg);\r\n            })\r\n            .then(() => {this._privateMarketFakeBtn.active = true;});\r\n        } else if (GlobalFuncVar.gameFlag.TutorialStep == 10){\r\n            this._tutorialText.getComponent(cc.Label).string = \"\";\r\n            this._newsStationFakeBtn.active = false;\r\n            this._goldBankFakeBtn.active = false;\r\n            this._tradeMarketFadeBtn.active = false;\r\n            this._foodBarnFakeBtn.active = false;\r\n            this._toMainViewFakeBtn.active = false;\r\n            this._privateMarketFakeBtn.active = false;\r\n            this._tutorialBg.getComponent(cc.Widget).isAlignBottom = false;\r\n            this._tutorialBg.getComponent(cc.Widget).isAlignTop = true;\r\n            this._tutorialBg.getComponent(cc.Widget).isAlignLeft = true;\r\n            this._tutorialBg.getComponent(cc.Widget).isAlignRight = true;\r\n            this._tutorialBg.getComponent(cc.Widget).left = -150;\r\n            this._tutorialBg.getComponent(cc.Widget).right = -150;\r\n            this._tutorialBg.getComponent(cc.Widget).top = -205;\r\n            this.setTutorialBoxUpdate(10,[0.59,0.24,0.58,0.02],[0.8,0.04,0.32,0.32])\r\n            .then(\r\n                this.setTutoriaTextlUpdate(10,GlobalFuncVar.verbal.tutorial.TutorialStep10,this._tutorialText.getComponent(cc.Label))\r\n            )\r\n            .then((msg) => {\r\n                console.log(msg);\r\n            })\r\n            .then(() => {\r\n                this._toMainViewFakeBtn.active = true;\r\n                GlobalFuncVar.gameFlag.TutorialStep = null;\r\n            });\r\n        }\r\n\r\n\r\n    },\r\n\r\n    onNextStepBtnClick(){\r\n        this._tutorialFingerPrint.active = false;\r\n        if (GlobalFuncVar.gameFlag.TutorialStep != null){\r\n            GlobalFuncVar.gameFlag.TutorialStep += 1;\r\n        };\r\n        this.tutorialRoute();\r\n    },\r\n\r\n    setTutorialBoxUpdate(stepNum, initPos, finalPos){\r\n        // initPos [top, bot, left, right]\r\n        // finalPos [top, bot, left, right]\r\n        var interval = 0.05;\r\n        // 重复次数\r\n        var repeat = 20;\r\n        // 开始延时\r\n        var delay = 0.1;\r\n        var repeatCount = 0;\r\n        this.schedule(function() {\r\n            this._tutorialMask.getComponent(cc.Widget).top = initPos[0] - repeatCount/repeat*(initPos[0]-finalPos[0]);\r\n            this._tutorialMask.getComponent(cc.Widget).bottom = initPos[1] - repeatCount/repeat*(initPos[1]-finalPos[1]);\r\n            this._tutorialMask.getComponent(cc.Widget).left = initPos[2] - repeatCount/repeat*(initPos[2]-finalPos[2]);\r\n            this._tutorialMask.getComponent(cc.Widget).right = initPos[3] - repeatCount/repeat*(initPos[3]-finalPos[3]);\r\n            repeatCount += 1;\r\n        }, interval, repeat, delay);\r\n        return new Promise(function(resolve,reject){\r\n            resolve(\"Tutorial Step \" + stepNum + \" excuted successfully !!!\");\r\n        }.bind(this));\r\n    },\r\n\r\n    setTutoriaTextlUpdate(stepNum, tutorialText, tutorialLabel){\r\n        var interval = 0.05;\r\n        // 重复次数\r\n        var repeat = tutorialText.length;\r\n        // 开始延时\r\n        var delay = 0.3;\r\n        var stringCount = 0;\r\n        this.schedule(function() {\r\n            tutorialLabel.string = tutorialText.substring(0,stringCount);\r\n            stringCount += 1;\r\n            if (stringCount == tutorialText.length){\r\n                if (GlobalFuncVar.gameFlag.TutorialStep != 10){\r\n                    this._tutorialFingerPrint.active = true;\r\n                } \r\n                // else if (GlobalFuncVar.gameFlag.TutorialStep == 10){\r\n                    //GlobalFuncVar.gameFlag.TutorialStep = null;\r\n                // }\r\n            }\r\n        }, interval, repeat, delay);\r\n        //return new Promise(function(resolve,reject){\r\n        //    resolve(\"Tutorial Text Step \" + stepNum + \" excuted successfully !!!\");\r\n        //}.bind(this));\r\n    },\r\n\r\n    onHide: function(){\r\n        this.node.active = false;\r\n    },\r\n\r\n    onClickMidBtn1: function(target, pin){\r\n        GlobalFuncVar.showNotiMark(this._midBtn1, false);\r\n        //this.onHide();\r\n        GlobalFuncVar.TierTwoPrefab(\"AlertType1\", this.PrtName, pin, this.node);\r\n    },\r\n\r\n    onClickMidBtn2: function(target, pin){\r\n        GlobalFuncVar.showNotiMark(this._midBtn2, false);\r\n        //this.onHide();\r\n        GlobalFuncVar.TierTwoPrefab(\"AlertType2\", this.PrtName, pin, this.node);\r\n    },\r\n\r\n    onClickMidBtn3: function(target, pin){\r\n        GlobalFuncVar.showNotiMark(this._midBtn3, false);\r\n        //this.onHide();\r\n        GlobalFuncVar.TierTwoPrefab(\"AlertType2\", this.PrtName, pin, this.node);\r\n    },\r\n\r\n    onClickMidBtn4: function(target, pin){\r\n        GlobalFuncVar.showNotiMark(this._midBtn4, false);\r\n        //this.onHide();\r\n        GlobalFuncVar.TierTwoPrefab(\"AlertType2\", this.PrtName, pin, this.node);\r\n    },\r\n\r\n    onClickMidBtn5: function(){\r\n        this.NextSlideIn(this).then((msg) => {\r\n            GlobalFuncVar.TierOnePrefab(\"MainView\", this.PrtName, this.FabInfo, this.node);\r\n            this.node.x += this.node.width;\r\n            console.log(msg);\r\n            this.onHide();\r\n        });\r\n    },\r\n\r\n    //// 20200307\r\n    onClickMidBtn7: function(target, pin){\r\n        this.onHide();\r\n        GlobalFuncVar.TierTwoPrefab(\"AlertType2\", this.PrtName, pin, this.node);\r\n    },\r\n\r\n    setNewsDefault(){\r\n        this.NewsBroadcast = this.node.getChildByName(\"newsBox\").getChildByName(\"newsBroadcastMask\").getChildByName(\"newsBroadcast\");\r\n        this.NewsNow = GlobalFuncVar.sysNewsData.newsNow;\r\n        // 20200224改动，将新闻一分为3，原先长度可能出现显示问题，现修正为3个substring结合显示\r\n        let NewsNowLen = this.NewsNow.length;\r\n        let subStr1 = this.NewsNow.substring(0,Math.floor(NewsNowLen/3)-1);\r\n        let subStr2 = this.NewsNow.substring(Math.floor(NewsNowLen/3)-1,2*Math.floor(NewsNowLen/3)-1);\r\n        let subStr3 = this.NewsNow.substring(2*Math.floor(NewsNowLen/3)-1,NewsNowLen);     \r\n        this.NewsBroadcast.getChildByName(\"newsPart1\").getComponent(cc.Label).string = subStr1;\r\n        this.NewsBroadcast.getChildByName(\"newsPart2\").getComponent(cc.Label).string = subStr2;\r\n        this.NewsBroadcast.getChildByName(\"newsPart3\").getComponent(cc.Label).string = subStr3;\r\n        // 20200224改动\r\n    },\r\n\r\n    setNewsBroadcast(){\r\n        if ((this.NewsBroadcast.x + this.NewsBroadcast.width) > (this.NewsBroadcast.parent.width/2)){\r\n            this.NewsBroadcast.x -= 1;\r\n        } else {\r\n            this.NewsBroadcast.x = 0;\r\n        }\r\n    },\r\n\r\n    NextSlideIn: function(self){\r\n        var timeTot = 0.1;\r\n        var interval = 0.01;\r\n        var repeat = timeTot / interval - 1;\r\n        var increment = this.node.width / (repeat+1);\r\n        var delay = 0;\r\n        \r\n        return new Promise(function(resolve, reject){\r\n            self.schedule(function() {\r\n                self.node.x -= increment;\r\n            }, interval, repeat, delay);\r\n            setTimeout(function () {\r\n                resolve(\"页面切换成功！\");\r\n            }, timeTot+200);\r\n        })\r\n        \r\n    },\r\n\r\n    update (dt) {\r\n        this.setNewsBroadcast();\r\n\r\n        if (this._touchStartX - this._touchEndX > 100 && this._touchStartX != null && this._touchEndX != null){\r\n            this._touchStartX = null,\r\n            this._touchEndX = null,\r\n            this.onClickMidBtn5();\r\n        };\r\n\r\n        this.notiMarkStatus();\r\n    },\r\n});\r\n"]}